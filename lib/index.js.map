{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils/constants.tsx","../src/utils/types.tsx","../src/utils/helpers.tsx","../src/utils/tooltip.tsx","../src/utils/chartConstructor.tsx","../src/components/BoringChart/BoringChart.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export const WIDTH = 600;\nexport const HEIGHT = 200;\nexport const DPI_WIDTH = WIDTH * 2;\nexport const DPI_HEIGHT = HEIGHT * 2;\nexport const ROWS_COUNT = 5;\nexport const PADDING = 40;\nexport const VIEW_HEIGHT = DPI_HEIGHT - PADDING * 2;\nexport const VIEW_WIDTH = DPI_WIDTH;\nexport const COLS_COUNT = 6;\nexport const CIRCLE_RADIUS = 10;\n","export type Coordinates = Array<Array<number>>;\nexport type ColumnDetails = {\n\tname: string;\n\tcolor: string;\n\tvalue: number | null;\n};\nexport type Selectors = {\n\trootSelector: string;\n\tcanvasSelector: string;\n\ttooltipSelector: string;\n};\nexport type TooltipData = {\n\ttitle: string | number;\n\titems: Array<ColumnDetails>;\n};\nexport type ProxyMouse = {\n\tleft: number;\n\ttop: number;\n};\nexport type TooltipFunction = {\n\tshow: (proxyMouse: ProxyMouse, data: TooltipData) => void;\n\thide: () => void;\n};\n\nexport enum FORMAT_TYPES {\n\tDATE = 'date',\n\tNUMBER = 'number',\n\tSTRING = 'string',\n}\n","import { DPI_WIDTH, DPI_HEIGHT, PADDING, CIRCLE_RADIUS } from './constants';\n\nimport { Coordinates, FORMAT_TYPES } from './types';\n\nexport function isMouseOver(mouse: any, x: number, length: number) {\n\tif (!mouse) return false;\n\n\tconst width = DPI_WIDTH / length;\n\treturn Math.abs(x - mouse.x) < width / 2;\n}\n\nexport function line(\n\tcontext: CanvasRenderingContext2D,\n\tcoordinates: Coordinates,\n\tcolor: string\n) {\n\tcontext.beginPath();\n\tcontext.lineWidth = 5;\n\tcontext.strokeStyle = color;\n\tfor (const [x, y] of coordinates) {\n\t\tcontext.lineTo(x, y);\n\t}\n\tcontext.stroke();\n\tcontext.closePath();\n}\n\nexport function circle(\n\tcontext: CanvasRenderingContext2D,\n\tx: number,\n\ty: number,\n\tcolor: string\n) {\n\tcontext.beginPath();\n\tcontext.strokeStyle = color;\n\t// context.fillStyle = '#fff';\n\tcontext.lineWidth = 4;\n\tcontext.arc(x, y, CIRCLE_RADIUS, 0, Math.PI * 2);\n\tcontext.fill();\n\tcontext.stroke();\n\tcontext.closePath();\n}\n\nexport function computeBoundaries(\n\tcolumns: Array<Array<number>>\n): Array<number> {\n\tlet min: number = 0;\n\tlet max: number = 0;\n\n\tcolumns.forEach((col) => {\n\t\tif (typeof min !== 'number') min = col[0];\n\t\tif (typeof max !== 'number') max = col[0];\n\t\tif (min > col[0]) min = col[0];\n\t\tif (max < col[0]) max = col[0];\n\n\t\tfor (let i = 1; i < col.length; i++) {\n\t\t\tif (min > col[i]) min = col[i];\n\t\t\tif (max < col[i]) max = col[i];\n\t\t}\n\t});\n\n\treturn [min, max];\n}\n\nexport function toCoordinates(\n\txRatio: number,\n\tyRatio: number\n): (y: number, i: number) => number[] {\n\treturn (y, i) => [\n\t\tMath.round((i - 1) * xRatio),\n\t\tMath.round(DPI_HEIGHT - PADDING - y * yRatio),\n\t];\n}\n\nexport function css(el: HTMLElement, styles = {}) {\n\tObject.assign(el.style, styles);\n}\n\nexport function formatLabel(value: string | number, type: FORMAT_TYPES) {\n\tif (type === FORMAT_TYPES.DATE) {\n\t\treturn new Date(value).toLocaleDateString('en-GB');\n\t} else return value;\n}\n","import { css } from './helpers';\nimport { TooltipData, ProxyMouse, TooltipFunction } from './types';\n\nconst template = (data: TooltipData) => `\n  <div style=\"\n\t\tfont: inherit;\t\n\t\ttext-align: left;\n\t\tmargin-bottom: 0.5rem;\n\t\twhite-space: nowrap;\n\t\tfont-size: 0.5rem;\n\t\">${data.title}</div>\n  <ul style=\"\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\">\n    ${data.items\n\t\t\t.map((item) => {\n\t\t\t\treturn `<li style=\"\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\">\n\t\t\t\t<div style=\"\n\t\t\t\t\tbackground: ${item.color};\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\twidth: 0.5rem;\n\t\t\t\t\theight: 0.5rem;\n\t\t\t\t\"></div>\n        <div style=\"\n\t\t\t\tpadding-left: 0.3rem;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tfont-size: 0.8rem;\"\n\t\t\t\t>${item.name}:</div>\n        <div style=\"\n\t\t\t\tfont-size: 0.8rem;\n\t\t\t\tpadding-left: 0.5rem;\">\n\t\t\t\t${item.value}\n\t\t\t\t</div>\n      </li>`;\n\t\t\t})\n\t\t\t.join('\\n')}\n  </ul>\n`;\n\nexport function getTooltip(el: HTMLElement): TooltipFunction {\n\tconst clear = () => (el.innerHTML = '');\n\n\treturn {\n\t\tshow(proxyMouse: ProxyMouse, data: TooltipData) {\n\t\t\tconst { height, width } = el.getBoundingClientRect();\n\t\t\tconst { left, top } = proxyMouse;\n\n\t\t\tclear();\n\t\t\tcss(el, {\n\t\t\t\tdisplay: 'block',\n\t\t\t\ttop: top - height + 'px',\n\t\t\t\tleft: left + width / 2 + 'px',\n\t\t\t});\n\t\t\tel.insertAdjacentHTML('afterbegin', template(data));\n\t\t},\n\t\thide() {\n\t\t\tcss(el, { display: 'none' });\n\t\t},\n\t};\n}\n","import {\n\tWIDTH,\n\tHEIGHT,\n\tDPI_WIDTH,\n\tDPI_HEIGHT,\n\tROWS_COUNT,\n\tPADDING,\n\tVIEW_HEIGHT,\n\tVIEW_WIDTH,\n\tCOLS_COUNT,\n} from './constants';\nimport {\n\tisMouseOver,\n\tline,\n\tcircle,\n\tcomputeBoundaries,\n\ttoCoordinates,\n\tformatLabel,\n} from './helpers';\nimport {\n\tColumnDetails,\n\tSelectors,\n\tFORMAT_TYPES,\n\tTooltipFunction,\n} from './types';\nimport { getTooltip } from './tooltip';\n\nexport class ChartConstructor {\n\troot: HTMLElement;\n\tcanvas: HTMLCanvasElement;\n\tcontext: CanvasRenderingContext2D;\n\ttooltip: TooltipFunction;\n\tcolumnDetails: ColumnDetails[];\n\txData: Array<number>;\n\tyData: Array<Array<number>>;\n\traf: number | null;\n\tproxy: any;\n\n\tconstructor(\n\t\tcolumnDetails: ColumnDetails[],\n\t\txData: number[],\n\t\tyData: Array<Array<number>>,\n\t\tselectors: Selectors\n\t) {\n\t\tthis.root = document.getElementById(selectors.rootSelector)!;\n\t\tthis.canvas = this.root.querySelector(selectors.canvasSelector)!;\n\t\tthis.context = this.canvas.getContext('2d')!;\n\t\tthis.tooltip = getTooltip(\n\t\t\tthis.root.querySelector(selectors.tooltipSelector)!\n\t\t);\n\t\tthis.columnDetails = columnDetails;\n\t\tthis.xData = xData;\n\t\tthis.yData = yData;\n\t\tthis.raf = null;\n\t\tthis.proxy = new Proxy(\n\t\t\t{},\n\t\t\t{\n\t\t\t\tset(...args) {\n\t\t\t\t\tconst [, , mouse] = args;\n\t\t\t\t\tconst result = Reflect.set(...args);\n\t\t\t\t\tif (mouse) {\n\t\t\t\t\t\tmouse.raf = requestAnimationFrame(mouse.callback);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tthis.canvas.style.width = WIDTH + 'px';\n\t\tthis.canvas.style.height = HEIGHT + 'px';\n\t\tthis.canvas.width = DPI_WIDTH;\n\t\tthis.canvas.height = DPI_HEIGHT;\n\t\tthis.canvas.addEventListener('mousemove', this.mousemove);\n\t\tthis.canvas.addEventListener('mouseleave', this.mouseleave);\n\t}\n\n\tmousemove = ({ clientX, clientY }: MouseEvent) => {\n\t\tconst { left, top } = this.canvas.getBoundingClientRect();\n\t\tthis.proxy.mouse = {\n\t\t\tx: (clientX - left) * 2,\n\t\t\ttooltip: {\n\t\t\t\tleft: clientX - left,\n\t\t\t\ttop: clientY - top,\n\t\t\t},\n\t\t\tcallback: this.paint,\n\t\t\traf: this.raf,\n\t\t};\n\t};\n\n\tmouseleave = () => {\n\t\tcancelAnimationFrame(this.proxy.mouse.raf);\n\t\tthis.proxy.mouse = null;\n\t\tthis.tooltip.hide();\n\t};\n\n\tclear = () => {\n\t\tthis.context.clearRect(0, 0, DPI_WIDTH, DPI_HEIGHT);\n\t};\n\n\tpaint = () => {\n\t\tthis.clear();\n\n\t\tconst [yMin, yMax] = computeBoundaries(this.yData);\n\t\tconst yRatio = VIEW_HEIGHT / (yMax - yMin);\n\t\tconst xRatio = VIEW_WIDTH / (this.xData.length - 2);\n\n\t\tthis.yAxis(yMin, yMax);\n\t\tthis.xAxis(this.xData, this.yData, xRatio);\n\n\t\tthis.yData.forEach((col, index) => {\n\t\t\tconst coordinates = col.map(toCoordinates(xRatio, yRatio));\n\t\t\tconst color = this.columnDetails[index].color;\n\n\t\t\tline(this.context, coordinates, color);\n\n\t\t\tfor (const [x, y] of coordinates) {\n\t\t\t\tif (isMouseOver(this.proxy.mouse, x, coordinates.length)) {\n\t\t\t\t\tcircle(this.context, x, y, color);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tyAxis = (yMin: number, yMax: number) => {\n\t\tconst step = VIEW_HEIGHT / ROWS_COUNT;\n\t\tconst textStep = (yMax - yMin) / ROWS_COUNT;\n\n\t\tthis.context.beginPath();\n\t\tthis.context.lineWidth = 1;\n\t\tthis.context.strokeStyle = '#bbb';\n\t\tfor (let i = 1; i <= ROWS_COUNT; i++) {\n\t\t\tconst y = step * i;\n\t\t\tconst text = Math.round(yMax - textStep * i);\n\t\t\tthis.context.fillText(text.toString(), 5, y + PADDING - 15);\n\t\t\tthis.context.moveTo(0, y + PADDING - 10);\n\t\t\tthis.context.lineTo(DPI_WIDTH, y + PADDING - 10);\n\t\t}\n\t\tthis.context.stroke();\n\t\tthis.context.closePath();\n\t};\n\n\txAxis = (\n\t\txData: Array<number>,\n\t\tyData: Array<Array<number>>,\n\t\txRatio: number\n\t) => {\n\t\tconst step = Math.round(xData.length / COLS_COUNT);\n\n\t\tthis.context.beginPath();\n\n\t\tfor (let i = 1; i < xData.length; i++) {\n\t\t\tconst x = i * xRatio;\n\t\t\tif ((i - 1) % step === 0) {\n\t\t\t\tconst text = formatLabel(xData[i], FORMAT_TYPES.DATE);\n\t\t\t\tif (text) {\n\t\t\t\t\tthis.context.fillText(text.toString(), x, DPI_HEIGHT - 5);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isMouseOver(this.proxy.mouse, x, xData.length)) {\n\t\t\t\tthis.context.save();\n\t\t\t\tthis.context.moveTo(x, PADDING / 2);\n\t\t\t\tthis.context.lineTo(x, DPI_HEIGHT - PADDING);\n\t\t\t\tthis.context.restore();\n\t\t\t\tthis.tooltip.show(this.proxy.mouse.tooltip, {\n\t\t\t\t\ttitle: formatLabel(xData[i], FORMAT_TYPES.DATE),\n\t\t\t\t\titems: yData.map((col, index) => ({\n\t\t\t\t\t\tcolor: this.columnDetails[index].color,\n\t\t\t\t\t\tname: this.columnDetails[index].name,\n\t\t\t\t\t\tvalue: col[i + 1],\n\t\t\t\t\t})),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.context.stroke();\n\t\tthis.context.closePath();\n\t};\n\n\tinit = () => {\n\t\tthis.paint();\n\t};\n\n\tdestroy = () => {\n\t\tif (this.raf) {\n\t\t\tcancelAnimationFrame(this.raf);\n\t\t}\n\t\tthis.canvas.removeEventListener('mousemove', this.mousemove);\n\t\tthis.canvas.removeEventListener('mouseleave', this.mouseleave);\n\t};\n}\n","import React from 'react';\nimport style from './BoringChart.module.css';\nimport { ChartConstructor } from '../../utils/chartConstructor';\nimport { ColumnDetails } from '../../utils/types';\n\ninterface BoringChartProps {\n\tcolumnDetails: ColumnDetails[];\n\txData: any;\n\tyData: any;\n\trootSelector: string;\n\tcanvasSelector: string;\n\ttooltipSelector: string;\n}\n\nconst BoringChart: React.FC<BoringChartProps> = (props) => {\n\tconst {\n\t\tcolumnDetails,\n\t\txData,\n\t\tyData,\n\t\trootSelector,\n\t\tcanvasSelector,\n\t\ttooltipSelector,\n\t} = props;\n\n\tReact.useEffect(() => {\n\t\tconst tgChart = new ChartConstructor(columnDetails, xData, yData, {\n\t\t\trootSelector,\n\t\t\tcanvasSelector,\n\t\t\ttooltipSelector,\n\t\t});\n\t\ttgChart.init();\n\t}, []);\n\n\treturn (\n\t\t<div className={style.card}>\n\t\t\t<div className={style.innerContainer} id=\"chart\">\n\t\t\t\t<div data-el=\"tooltip\" className={style.tooltip}></div>\n\t\t\t\t<canvas></canvas>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport { BoringChart };\n"],"names":["React","_jsx","_jsxs"],"mappings":";;;;;;;;;;;AAAA,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;AAC/B,EAAE,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;AACjC,EAAE,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;AAC9B;AACA,EAAE,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;AAC1D;AACA,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACvE,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,EAAE,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;AAC1B;AACA,EAAE,IAAI,QAAQ,KAAK,KAAK,EAAE;AAC1B,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;AACzB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;AAChD,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC9B,KAAK;AACL,GAAG,MAAM;AACT,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC5B,GAAG;AACH;AACA,EAAE,IAAI,KAAK,CAAC,UAAU,EAAE;AACxB,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;AACnC,GAAG,MAAM;AACT,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;AACpD,GAAG;AACH;;;;;;ACzBO,MAAM,KAAK,GAAG,GAAG,CAAC;AAClB,MAAM,MAAM,GAAG,GAAG,CAAC;AACnB,MAAM,SAAS,GAAG,KAAK,GAAG,CAAC,CAAC;AAC5B,MAAM,UAAU,GAAG,MAAM,GAAG,CAAC,CAAC;AAC9B,MAAM,UAAU,GAAG,CAAC,CAAC;AACrB,MAAM,OAAO,GAAG,EAAE,CAAC;AACnB,MAAM,WAAW,GAAG,UAAU,GAAG,OAAO,GAAG,CAAC,CAAC;AAC7C,MAAM,UAAU,GAAG,SAAS,CAAC;AAC7B,MAAM,UAAU,GAAG,CAAC,CAAC;AACrB,MAAM,aAAa,GAAG,EAAE;;ACe/B,IAAY,YAIX;AAJD,WAAY,YAAY;IACvB,6BAAa,CAAA;IACb,iCAAiB,CAAA;IACjB,iCAAiB,CAAA;AAClB,CAAC,EAJW,YAAY,KAAZ,YAAY;;SCpBR,WAAW,CAAC,KAAU,EAAE,CAAS,EAAE,MAAc;IAChE,IAAI,CAAC,KAAK;QAAE,OAAO,KAAK,CAAC;IAEzB,MAAM,KAAK,GAAG,SAAS,GAAG,MAAM,CAAC;IACjC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;AAC1C,CAAC;SAEe,IAAI,CACnB,OAAiC,EACjC,WAAwB,EACxB,KAAa;IAEb,OAAO,CAAC,SAAS,EAAE,CAAC;IACpB,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;IACtB,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;IAC5B,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,WAAW,EAAE;QACjC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACrB;IACD,OAAO,CAAC,MAAM,EAAE,CAAC;IACjB,OAAO,CAAC,SAAS,EAAE,CAAC;AACrB,CAAC;SAEe,MAAM,CACrB,OAAiC,EACjC,CAAS,EACT,CAAS,EACT,KAAa;IAEb,OAAO,CAAC,SAAS,EAAE,CAAC;IACpB,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;;IAE5B,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;IACtB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACjD,OAAO,CAAC,IAAI,EAAE,CAAC;IACf,OAAO,CAAC,MAAM,EAAE,CAAC;IACjB,OAAO,CAAC,SAAS,EAAE,CAAC;AACrB,CAAC;SAEe,iBAAiB,CAChC,OAA6B;IAE7B,IAAI,GAAG,GAAW,CAAC,CAAC;IACpB,IAAI,GAAG,GAAW,CAAC,CAAC;IAEpB,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;QACnB,IAAI,OAAO,GAAG,KAAK,QAAQ;YAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,OAAO,GAAG,KAAK,QAAQ;YAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;YAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;YAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAE/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;gBAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;gBAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;SAC/B;KACD,CAAC,CAAC;IAEH,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACnB,CAAC;SAEe,aAAa,CAC5B,MAAc,EACd,MAAc;IAEd,OAAO,CAAC,CAAC,EAAE,CAAC,KAAK;QAChB,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC;QAC5B,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC;KAC7C,CAAC;AACH,CAAC;SAEe,GAAG,CAAC,EAAe,EAAE,MAAM,GAAG,EAAE;IAC/C,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACjC,CAAC;SAEe,WAAW,CAAC,KAAsB,EAAE,IAAkB;IACrE,IAAI,IAAI,KAAK,YAAY,CAAC,IAAI,EAAE;QAC/B,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;KACnD;;QAAM,OAAO,KAAK,CAAC;AACrB;;AC9EA,MAAM,QAAQ,GAAG,CAAC,IAAiB,KAAK;;;;;;;KAOnC,IAAI,CAAC,KAAK;;;;;;;;MAQT,IAAI,CAAC,KAAK;KACZ,GAAG,CAAC,CAAC,IAAI;IACT,OAAO;;;;;;;mBAOQ,IAAI,CAAC,KAAK;;;;;;;;;OAStB,IAAI,CAAC,IAAI;;;;MAIV,IAAI,CAAC,KAAK;;YAEJ,CAAC;AACV,CAAC,CAAC;KACD,IAAI,CAAC,IAAI,CAAC;;CAEb,CAAC;SAEc,UAAU,CAAC,EAAe;IACzC,MAAM,KAAK,GAAG,OAAO,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC;IAExC,OAAO;QACN,IAAI,CAAC,UAAsB,EAAE,IAAiB;YAC7C,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,qBAAqB,EAAE,CAAC;YACrD,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,UAAU,CAAC;YAEjC,KAAK,EAAE,CAAC;YACR,GAAG,CAAC,EAAE,EAAE;gBACP,OAAO,EAAE,OAAO;gBAChB,GAAG,EAAE,GAAG,GAAG,MAAM,GAAG,IAAI;gBACxB,IAAI,EAAE,IAAI,GAAG,KAAK,GAAG,CAAC,GAAG,IAAI;aAC7B,CAAC,CAAC;YACH,EAAE,CAAC,kBAAkB,CAAC,YAAY,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;SACpD;QACD,IAAI;YACH,GAAG,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;SAC7B;KACD,CAAC;AACH;;MCzCa,gBAAgB;IAW5B,YACC,aAA8B,EAC9B,KAAe,EACf,KAA2B,EAC3B,SAAoB;QAiCrB,cAAS,GAAG,CAAC,EAAE,OAAO,EAAE,OAAO,EAAc;YAC5C,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC;YAC1D,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;gBAClB,CAAC,EAAE,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC;gBACvB,OAAO,EAAE;oBACR,IAAI,EAAE,OAAO,GAAG,IAAI;oBACpB,GAAG,EAAE,OAAO,GAAG,GAAG;iBAClB;gBACD,QAAQ,EAAE,IAAI,CAAC,KAAK;gBACpB,GAAG,EAAE,IAAI,CAAC,GAAG;aACb,CAAC;SACF,CAAC;QAEF,eAAU,GAAG;YACZ,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACpB,CAAC;QAEF,UAAK,GAAG;YACP,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;SACpD,CAAC;QAEF,UAAK,GAAG;YACP,IAAI,CAAC,KAAK,EAAE,CAAC;YAEb,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnD,MAAM,MAAM,GAAG,WAAW,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC;YAC3C,MAAM,MAAM,GAAG,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAEpD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YAE3C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,KAAK;gBAC7B,MAAM,WAAW,GAAG,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;gBAC3D,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;gBAE9C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;gBAEvC,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,WAAW,EAAE;oBACjC,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,WAAW,CAAC,MAAM,CAAC,EAAE;wBACzD,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;wBAClC,MAAM;qBACN;iBACD;aACD,CAAC,CAAC;SACH,CAAC;QAEF,UAAK,GAAG,CAAC,IAAY,EAAE,IAAY;YAClC,MAAM,IAAI,GAAG,WAAW,GAAG,UAAU,CAAC;YACtC,MAAM,QAAQ,GAAG,CAAC,IAAI,GAAG,IAAI,IAAI,UAAU,CAAC;YAE5C,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC;YAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,UAAU,EAAE,CAAC,EAAE,EAAE;gBACrC,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC;gBACnB,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,GAAG,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC;gBAC5D,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC;gBACzC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC;aACjD;YACD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;SACzB,CAAC;QAEF,UAAK,GAAG,CACP,KAAoB,EACpB,KAA2B,EAC3B,MAAc;YAEd,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,CAAC;YAEnD,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;YAEzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACtC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;gBACrB,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE;oBACzB,MAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;oBACtD,IAAI,IAAI,EAAE;wBACT,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,UAAU,GAAG,CAAC,CAAC,CAAC;qBAC1D;iBACD;gBACD,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE;oBACnD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;oBACpB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,UAAU,GAAG,OAAO,CAAC,CAAC;oBAC7C,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;oBACvB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE;wBAC3C,KAAK,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC;wBAC/C,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM;4BACjC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,KAAK;4BACtC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,IAAI;4BACpC,KAAK,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;yBACjB,CAAC,CAAC;qBACH,CAAC,CAAC;iBACH;aACD;YAED,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;SACzB,CAAC;QAEF,SAAI,GAAG;YACN,IAAI,CAAC,KAAK,EAAE,CAAC;SACb,CAAC;QAEF,YAAO,GAAG;YACT,IAAI,IAAI,CAAC,GAAG,EAAE;gBACb,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC/B;YACD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAC7D,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SAC/D,CAAC;QAhJD,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,YAAY,CAAE,CAAC;QAC7D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,cAAc,CAAE,CAAC;QACjE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAE,CAAC;QAC7C,IAAI,CAAC,OAAO,GAAG,UAAU,CACxB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,eAAe,CAAE,CACnD,CAAC;QACF,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CACrB,EAAE,EACF;YACC,GAAG,CAAC,GAAG,IAAI;gBACV,MAAM,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC;gBACzB,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;gBACpC,IAAI,KAAK,EAAE;oBACV,KAAK,CAAC,GAAG,GAAG,qBAAqB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;iBAClD;gBACD,OAAO,MAAM,CAAC;aACd;SACD,CACD,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,UAAU,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1D,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC5D;;;MC3DI,WAAW,GAA+B,CAAC,KAAK;IACrD,MAAM,EACL,aAAa,EACb,KAAK,EACL,KAAK,EACL,YAAY,EACZ,cAAc,EACd,eAAe,GACf,GAAG,KAAK,CAAC;IAEVA,yBAAK,CAAC,SAAS,CAAC;QACf,MAAM,OAAO,GAAG,IAAI,gBAAgB,CAAC,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE;YACjE,YAAY;YACZ,cAAc;YACd,eAAe;SACf,CAAC,CAAC;QACH,OAAO,CAAC,IAAI,EAAE,CAAC;KACf,EAAE,EAAE,CAAC,CAAC;IAEP,QACCC,sCAAK,SAAS,EAAE,KAAK,CAAC,IAAI,gBACzBC,uCAAK,SAAS,EAAE,KAAK,CAAC,cAAc,EAAE,EAAE,EAAC,OAAO,iBAC/CD,mCAAa,SAAS,EAAC,SAAS,EAAE,KAAK,CAAC,OAAO,WAAQ,EACvDA,oCAAiB,aACZ,YACD,EACL;AACH;;;;"}